<project-navbar-mobile></project-navbar-mobile>
<div class="row">  
  <project-navbar class="hidden-xs"></project-navbar>
  <div class="col-xs-12 col-sm-11">
    <div class="main-container">
      <div class="header">
        <div class="row">
          <div class="col-sm-12">
            <h1>{{project.name}}</h1>
            <p>{{project.description}}</p>
          </div>

        <!-- Use for debugging viewport size   -->
        <!-- <div class="col-xs-1 hidden-sm hidden-md hidden-lg">XS</div> 
        <div class="col-sm-1 hidden-xs hidden-md hidden-lg">SM</div>
        <div class="col-md-1 hidden-sm hidden-xs hidden-lg">MD</div>  
        <div class="col-lg-1 hidden-sm hidden-md hidden-xs">LG</div>   -->
       
        </div>    
      </div>

      <div class="actions">
        <div class="row">
          <div class="col-sm-12">
            <a ng-click="addStory()" class="btn btn-success pull-right"><span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> Add Item</a>      
          </div>
        </div>    
      </div>

      <div class="content">
        <div class="row">
          <div class="col-xs-12 col-sm-10">
            <div ng-show="failed" class="alert alert-danger" role="alert">{{ failed }}</div>
          </div>
        </div>       

        <div class="row">
          <div ng-class="{'hidden-xs hidden-sm col-md-6 col-lg-8 story-detail-separator' : showDetails, 'col-xs-12' : !showDetails}">
            <div class="custom-table">
              <div class="row">
                <div class="table-header">
                  <div ng-class="{'col-xs-6 col-sm-4 col-md-8 col-lg-3' : showDetails, 'col-xs-6 col-sm-4 col-md-2' : !showDetails}">Name</div>
                  <div ng-class="{'hidden-xs hidden-sm hidden-md hidden-lg' : showDetails, 'hidden-xs hidden-sm col-md-3' : !showDetails}">Description</div>
                  <div ng-class="{'hidden-xs hidden-sm hidden-md col-lg-2' : showDetails, 'hidden-xs col-sm-2 col-md-2' : !showDetails}">Type</div>
                  <div ng-class="{'hidden-xs hidden-sm hidden-md col-lg-2' : showDetails, 'hidden-xs col-sm-2 col-md-2' : !showDetails}">Status</div>
                  <div ng-class="{'hidden-xs hidden-sm hidden-md col-lg-1' : showDetails, 'hidden-xs col-sm-1 col-md-1' : !showDetails}">Points</div>
                  <div ng-class="{'col-xs-6 col-sm-3 col-md-4 col-lg-4' : showDetails, 'col-xs-6 col-sm-3 col-md-2' : !showDetails}"></div>              
                </div>
              </div>
              <div class="table-content">
                <ul data-as-sortable="dragControlListeners" data-ng-model="project.backlog">
                  <li class="table-row" ng-repeat="item in project.backlog" data-as-sortable-item>
                    <div data-as-sortable-item-handle>
                      <div class="row">
                        <story show-details="{{showDetails}}" story-item="{{item}}" hasporights="hasPORights" edit-callback="editStory(item)" view-callback="showStoryDetails(item)"></story>
                      </div>
                    </div>
                  </li>
                </ul>            
              </div>          
            </div>
          </div>

          <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4">            
              <story-detail ng-show="showDetails" story-item="detailStory" participants="project.participants" callback="showStoryDetails(item)"></story-detail>            
          </div>
          
        </div>                
      </div>    
    </div>    
  </div>  
</div>
<chat-widget></chat-widget>
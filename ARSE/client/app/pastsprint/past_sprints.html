<project-navbar-mobile theproject="project"></project-navbar-mobile>
<div class="row">  
  <project-navbar theproject="project" class="hidden-xs"></project-navbar>
  <div class="col-xs-12 col-sm-11">
    <div class="main-container">
      <div class="header">
        <div class="row">
          <div class="col-sm-12">
            <h1>Past Sprints</h1>
          </div>
        </div>    
      </div>

      <div class="content">          
        <div ng-hide="project.past_sprints.length != 0" class="row">
          <div class="col-xs-12">
            No past sprints for this project.
          </div>
        </div>
        <div ng-show="project.past_sprints.length != 0"  class="row">
          <div ng-class="{'hidden-xs hidden-sm col-md-6 col-lg-8 story-detail-separator' : showDetails, 'col-xs-12' : !showDetails}">
            <div class="custom-table">
              <div class="row">
                <div class="table-header">
                  <div class="col-xs-2 col-sm-2">Name</div>
                  <div class="col-xs-3 col-sm-3">Start</div>
                  <div class="col-xs-3 col-sm-3">End</div>
                  <div class="col-xs-2 col-sm-2">Points</div>
                  <div class="col-xs-2 col-sm-2"></div>
                </div>
              </div>
              <div class="table-content">
                <ul>
                  <li class="table-row" ng-repeat="sprint in project.past_sprints">
                    <div class="row">
                      <div class="col-xs-2 col-sm-2">{{sprint.name}}</div>
                      <div class="col-xs-3 col-sm-3">{{sprint.start_date | date: 'dd.MM.yyyy'}}</div>
                      <div class="col-xs-3 col-sm-3">{{sprint.end_date | date: 'dd.MM.yyyy'}}</div>
                      <div class="col-xs-2 col-sm-2">{{sprint.total_points}}</div>

                      <div class="col-xs-2 col-sm-2">
                        <div class="btn-group pull-right">                          
                          <a ng-click="showSprintDetails(sprint)" class="btn btn-success"><span class="glyphicon glyphicon-search"></span></a>
                        </div>
                      </div> 
                    </div>
                  </li>
                </ul>            
              </div>          
            </div>
          </div>

          <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4" ng-show="showDetails">

            <div class="row">
              <div class="col-xs-10 col-sm-10 col-md-12 col-lg-12">
                <h1>{{detailSprint.name}}</h1>
              </div>
              <div class="col-xs-2 col-sm-2 hidden-md hidden-lg">
                <button class="btn btn-default pull-right" type="button" ng-click="showSprintDetails(detailSprint)"><span class="glyphicon glyphicon-chevron-left"></span></button>
              </div>              
            </div>

            <div class="row">
              <div class="hidden-xs hidden-sm col-md-12 col-lg-12">
                <button class="btn btn-warning pull-right" type="button" ng-click="showSprintDetails(detailSprint)">Close</button>
              </div>
            </div>

            <div class="past-sprints-story" ng-repeat="story in detailSprint.closed_stories">
              <div class="row storyTitle">
                <div class="col-xs-12">
                  <h1>{{story.name}}</h1>
                </div>                
              </div>

              <div class="row details">
                <div class="col-xs-4">
                  <div ng-show="story.points">
                    <span class="story-points">{{story.points}}</span>
                  </div>
                </div>                
                <div class="col-xs-8">
                  <span class="pull-right">{{story.type}}</span>
                </div>
              </div>


              <div class="row description">
                <div class="col-xs-12 pull-right">
                  {{story.description}}
                </div>
              </div>

            </div>            
          </div>
        </div>                
      </div>    
    </div>    
  </div>  
</div>
<chat-widget></chat-widget>